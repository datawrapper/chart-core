(function(){function getDelimiterPatterns(e,t){return new RegExp("(\\"+e+"|\\r?\\n|\\r|^)(?:"+t+"([^"+t+"]*(?:"+t+'"[^'+t+"]*)*)"+t+"|([^"+t+"\\"+e+"\\r\\n]*))","gi")}var root=this,dw={};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=dw),exports.dw=dw):window.dw=dw,dw.dataset=function(e,t){function n(e){for(var t=e.name(),n=t,a=1;r.hasOwnProperty(n);)n=t+"."+a++;n!=t&&e.name(n)}var r={},a=e.slice(0);_.each(e,function(e){n(e),r[e.name()]=e}),t=_.extend(t,{});var i={columns:function(){return e},column:function(t){if(_.isString(t)){if(void 0!==r[t])return r[t];throw'No column found with that name: "'+t+'"'}if(!(t<0)){if(void 0!==e[t])return e[t];throw"No column found with that index: "+t}},numColumns:function(){return e.length},numRows:function(){return e[0].length},eachColumn:function(t){_.each(e,t)},hasColumn:function(t){return void 0!==(_.isString(t)?r[t]:e[t])},indexOf:function(t){return i.hasColumn(t)?_.indexOf(e,r[t]):-1},list:function(){return _.range(e[0].length).map(function(t){var n={};return _.each(e,function(e){n[e.name()]=e.val(t)}),n})},toCSV:function(){var t="",n=",",r='"';return _.each(e,function(e,a){var i=e.title();i.indexOf(r)>-1&&i.replace(r,'\\"'),i.indexOf(n)>-1&&(i=r+i+r),t+=(a>0?n:"")+i}),_.each(_.range(i.numRows()),function(a){t+="\n",_.each(e,function(e,i){var o=""+("date"==e.type()?e.raw(a):e.val(a));o.indexOf(r)>-1&&o.replace(r,'\\"'),o.indexOf(n)>-1&&(o=r+o+r),t+=(i>0?n:"")+o})}),t},filterColumns:function(t){return e=_.filter(e,function(e){return!t[e.name()]}),_.each(t,function(e,t){e&&r[t]&&delete r[t]}),i},eachRow:function(e){var t;for(t=0;t<i.numRows();t++)e(t);return i},add:function(t){return n(t),e.push(t),r[t.name()]=t,a.push(t),i},reset:function(){return e=a.slice(0),r={},_.each(e,function(e){r[e.name()]=e}),i},limitRows:function(t){return _.each(e,function(e){e.limitRows(t)}),i},limitColumns:function(t){return e.length>t&&(e.length=t,a.length=t),i},columnOrder:function(t){return arguments.length?(e.length=0,t.forEach(function(t){e.push(a[t])}),i):e.map(function(e){return a.indexOf(e)})}};return i},dw.column=function(e,t,n){function r(e){return null!=e&&""!==e}var a=_.shuffle(_.range(t.length)).filter(function(e){return r(t[e])}).slice(0,200).map(function(e){return t[e]});n=n?dw.column.types[n](a):function(e){if(_.every(t,_.isNumber))return dw.column.types.number();if(_.every(t,_.isDate))return dw.column.types.date();var n,a=[dw.column.types.date(e),dw.column.types.number(e),dw.column.types.text()],i=t.filter(r).length;return _.each(t,function(e){_.each(a,function(t){t.parse(e)})}),_.every(a,function(e){return(e.errors()/i<.1||e.errors()<=1)&&(n=e),!n}),_.isUndefined(n)&&(n=a[2]),n}(a);var i,o,u,s=t.slice(0),c={name:function(){return arguments.length?(e=arguments[0],c):dw.utils.purifyHtml(e)},title:function(){return arguments.length?(u=arguments[0],c):dw.utils.purifyHtml(u||e)},length:t.length,val:function(e,r){if(arguments.length){var a=r?s:t;return e<0&&(e+=a.length),n.parse(dw.utils.purifyHtml(a[e]))}},values:function(e){var r=e?s:t;return r=_.map(r,function(e){return dw.utils.purifyHtml(e)}),_.map(r,n.parse)},each:function(e){for(var n=0;n<t.length;n++)e(c.val(n),n)},raw:function(e,n){return arguments.length?2===arguments.length?(t[e]=n,c):dw.utils.purifyHtml(t[e]):t},type:function(e){if(!0===e)return n;if(_.isString(e)){if(dw.column.types[e])return n=dw.column.types[e](a),c;throw new Error("unknown column type: "+e)}return n.name()},range:function(){return!!n.toNum&&(i||(i=[Number.MAX_VALUE,-Number.MAX_VALUE],c.each(function(e){e=n.toNum(e),_.isNumber(e)&&!_.isNaN(e)&&(e<i[0]&&(i[0]=e),e>i[1]&&(i[1]=e))}),i[0]=n.fromNum(i[0]),i[1]=n.fromNum(i[1])),i)},total:function(){return!!n.toNum&&(o||(o=0,c.each(function(e){o+=n.toNum(e)}),o=n.fromNum(o)),o)},filterRows:function(e){return t=[],arguments.length?_.each(e,function(e){t.push(s[e])}):t=s.slice(0),c.length=t.length,i=o=!1,c},toString:function(){return e+" ("+n.name()+")"},indexOf:function(e){return _.find(_.range(t.length),function(t){return c.val(t)===e})},limitRows:function(e){s.length>e&&(s.length=e,t.length=e,c.length=e)}};return c},dw.column.types={},dw.column.types.text=function(){return{parse:_.identity,errors:function(){return 0},name:function(){return"text"},formatter:function(){return _.identity},isValid:function(){return!0},format:function(){}}},dw.column.types.number=function(e){var t,n=0,r={"-.":/^ *[-–—−]?[0-9]*(\.[0-9]+)?(e[+-][0-9]+)?%? *$/,"-,":/^ *[-–—−]?[0-9]*(,[0-9]+)?%? *$/,",.":/^ *[-–—−]?[0-9]{1,3}(,[0-9]{3})*(\.[0-9]+)?%? *$/,".,":/^ *[-–—−]?[0-9]{1,3}(\.[0-9]{3})*(,[0-9]+)?%? *$/," .":/^ *[-–—−]?[0-9]{1,3}( [0-9]{3})*(\.[0-9]+)?%? *$/," ,":/^ *[-–—−]?[0-9]{1,3}( [0-9]{3})*(,[0-9]+)?%? *$/," .":/^ *[-–—−]?[0-9]{1,3}( [0-9]{3})*(\.[0-9]+)?%? *$/," ,":/^ *[-–—−]?[0-9]{1,3}( [0-9]{3})*(,[0-9]+)?%? *$/," .":/^ *[-–—−]?[0-9]{1,3}( [0-9]{3})*(\.[0-9]+)?%? *$/," ,":/^ *[-–—−]?[0-9]{1,3}( [0-9]{3})*(,[0-9]+)?%? *$/,"'.":/^ *[-–—−]?[0-9]{1,3}('[0-9]{3})*(\.[0-9]+)?%? *$/},a={"-.":"1234.56","-,":"1234,56",",.":"1,234.56",".,":"1.234,56"," .":"1 234.56"," ,":"1 234,56"," .":"1 234.56"," ,":"1 234,56"," .":"1 234.56"," ,":"1 234,56"},i={na:1,"n/a":1,"-":1,":":1},o={},u=["-.",0];e=e||[],_.each(e,function(e){_.each(r,function(t,n){void 0===o[n]&&(o[n]=0),t.test(e)&&(o[n]+=1,o[n]>u[1]&&(u[0]=n,u[1]=o[n]))})}),t=u[0];var s={parse:function(e){if(_.isNumber(e)||_.isUndefined(e)||_.isNull(e))return e;var r=e.replace("%","").replace("−","-").replace("–","-").replace("—","-");return"-"!=t[0]&&(r=r.replace(new RegExp("."==t[0]?"\\.":t[0],"g"),"")),"."!=t[1]&&(r=r.replace(t[1],".")),isNaN(r)||""===r?(i[r.toLowerCase()]||""===r||n++,e):Number(r)},toNum:function(e){return e},fromNum:function(e){return e},errors:function(){return n},name:function(){return"number"},formatter:function(e){var t=e["number-format"]||"-",n=Number(e["number-divisor"]||0),r=(e["number-append"]||"").replace(/ /g," "),a=(e["number-prepend"]||"").replace(/ /g," ");return function(e,i,o){if(isNaN(e))return e;var u=t;if(0!==n&&"-"==u&&(u="n1"),0!==n&&(e=Number(e)/Math.pow(10,n)),"s"==u.substr(0,1)){var s=+u.substr(1);u="n"+Math.max(0,function(e,t){return 0===e?0:Math.round(t-Math.ceil(Math.log(Math.abs(e))/Math.LN10))}(e,s))}if(o&&(u="n0"),"-"==u&&(u=dw.utils.equalish(e,Math.round(e))?"n0":dw.utils.equalish(e,.1*Math.round(10*e))?"n1":dw.utils.equalish(e,.01*Math.round(100*e))?"n2":dw.utils.equalish(e,.001*Math.round(1e3*e))?"n3":dw.utils.equalish(e,1e-4*Math.round(1e4*e))?"n4":dw.utils.equalish(e,1e-5*Math.round(1e5*e))?"n5":"n6"),e=Globalize.format(e,"-"!=u?u:null),a.indexOf("{+/-}")>-1){var c=Number(e.replace(/[^\d-]/g,""));c<0?(e=e.replace("-",""),a=a.replace("{+/-}","-")):a=c>0?a.replace("{+/-}","+"):a.replace("{+/-}","")}return i?a+e+r:e}},isValid:function(e){return""===e||i[String(e).toLowerCase()]||_.isNumber(s.parse(e))},ambiguousFormats:function(){var e=[];return _.each(o,function(t,n){t==u[1]&&e.push([n,a[n]])}),e},format:function(e){return arguments.length?(t=e,s):t}};return s},dw.column.types.date=function(){function e(){return new RegExp(a+Array.prototype.slice.call(arguments).join(" *")+i,"i")}function t(e,t){var n=h[t];return _.isRegExp(n.test)?n.test.test(e):n.test(e,t)}function n(e,t,n){var r=new Date(Date.UTC(e,0,3));return r.setUTCDate(3-r.getUTCDay()+7*(t-1)+parseInt(n,10)),r}function r(e,t){return 12!=e?e+("pm"==t?12:0):"am"==t?0:12}var a=/^ */.source,i=/[\*']* *$/.source,o=/[ \-\/\.]?/.source,u=/[ \-\/\.]/.source,s=/[ \-\/\.,]/.source,c=/[ \-\|T]/.source,l=/[ \-\/\.m]/.source,f={YY:{parse:/['’‘]?(\d{2})/},YYYY:{test:/([12]\d{3})/,parse:/(\d{4})/},YYYY2:{test:/(?:1[7-9]|20)\d{2}/,parse:/(\d{4})/},H:{parse:/h([12])/},Q:{parse:/q([1234])/},W:{parse:/w([0-5]?[0-9])/},MM:{test:/(0?[1-9]|1[0-2])/,parse:/(0?[1-9]|1[0-2])/},DD:{parse:/(0?[1-9]|[1-2][0-9]|3[01])/},DOW:{parse:/([0-7])/},HHMM:{parse:/(0?\d|1\d|2[0-3]):([0-5]\d)(?::([0-5]\d))? *(am|pm)?/}},d={0:["jan","january","januar","jänner","jän","janv","janvier","ene","enero","gen","gennaio","janeiro"],1:["feb","february","febr","februar","fév","févr","février","febrero","febbraio","fev","fevereiro"],2:["mar","mär","march","mrz","märz","mars","mars","marzo","marzo","março"],3:["apr","april","apr","april","avr","avril","abr","abril","aprile"],4:["may","mai","mayo","mag","maggio","maio","maj"],5:["jun","june","juni","juin","junio","giu","giugno","junho"],6:["jul","july","juli","juil","juillet","julio","lug","luglio","julho"],7:["aug","august","août","ago","agosto"],8:["sep","september","sept","septembre","septiembre","set","settembre","setembro"],9:["oct","october","okt","oktober","octobre","octubre","ott","ottobre","out","outubro"],10:["nov","november","november","novembre","noviembre","novembre","novembro"],11:["dec","december","dez","des","dezember","déc","décembre","dic","diciembre","dicembre","desember","dezembro"]},m={};_.each(d,function(e,t){_.each(e,function(e){m[e]=t})}),f.MMM={parse:new RegExp("("+_.flatten(_.values(d)).join("|")+")")},_.each(f,function(e,t){e.parse=e.parse.source,_.isRegExp(e.test)?e.test=e.test.source:e.test=e.parse});var h={YYYY:{test:e(f.YYYY2.test),parse:e(f.YYYY2.parse),precision:"year"},"YYYY-H":{test:e(f.YYYY.test,o,f.H.test),parse:e(f.YYYY.parse,o,f.H.parse),precision:"half"},"H-YYYY":{test:e(f.H.test,u,f.YYYY.test),parse:e(f.H.parse,u,f.YYYY.parse),precision:"half"},"YYYY-Q":{test:e(f.YYYY.test,o,f.Q.test),parse:e(f.YYYY.parse,o,f.Q.parse),precision:"quarter"},"Q-YYYY":{test:e(f.Q.test,u,f.YYYY.test),parse:e(f.Q.parse,u,f.YYYY.parse),precision:"quarter"},"YYYY-M":{test:e(f.YYYY.test,l,f.MM.test),parse:e(f.YYYY.parse,l,f.MM.parse),precision:"month"},"M-YYYY":{test:e(f.MM.test,u,f.YYYY.test),parse:e(f.MM.parse,u,f.YYYY.parse),precision:"month"},"YYYY-MMM":{test:e(f.YYYY.test,u,f.MMM.parse),parse:e(f.YYYY.parse,u,f.MMM.parse),precision:"month"},"MMM-YYYY":{test:e(f.MMM.parse,u,f.YYYY.test),parse:e(f.MMM.parse,u,f.YYYY.parse),precision:"month"},"MMM-YY":{test:e(f.MMM.parse,u,f.YY.test),parse:e(f.MMM.parse,u,f.YY.parse),precision:"month"},MMM:{test:e(f.MMM.parse),parse:e(f.MMM.parse),precision:"month"},"YYYY-WW":{test:e(f.YYYY.test,o,f.W.test),parse:e(f.YYYY.parse,o,f.W.parse),precision:"week"},"WW-YYYY":{test:e(f.W.test,u,f.YYYY.test),parse:e(f.W.parse,u,f.YYYY.parse),precision:"week"},"MM/DD/YYYY":{test:e(f.MM.test,"([\\-\\/])",f.DD.test,"\\2",f.YYYY.test),parse:e(f.MM.parse,"([\\-\\/])",f.DD.parse,"\\2",f.YYYY.parse),precision:"day"},"DD/MM/YYYY":{test:e(f.DD.test,"([\\-\\.\\/ ?])",f.MM.test,"\\2",f.YYYY.test),parse:e(f.DD.parse,"([\\-\\.\\/ ?])",f.MM.parse,"\\2",f.YYYY.parse),precision:"day"},"DD/MMM/YYYY":{test:e(f.DD.test,"([\\-\\.\\/ ?])",f.MMM.test,"\\2",f.YYYY.test),parse:e(f.DD.parse,"([\\-\\.\\/ ?])",f.MMM.parse,"\\2",f.YYYY.parse),precision:"day"},"DD/MMM/YY":{test:e(f.DD.test,"([\\-\\.\\/ ?])",f.MMM.test,"\\2",f.YY.test),parse:e(f.DD.parse,"([\\-\\.\\/ ?])",f.MMM.parse,"\\2",f.YY.parse),precision:"day"},"YYYY-MM-DD":{test:e(f.YYYY.test,"([\\-\\.\\/ ?])",f.MM.test,"\\2",f.DD.test),parse:e(f.YYYY.parse,"([\\-\\.\\/ ?])",f.MM.parse,"\\2",f.DD.parse),precision:"day"},"MMM-DD-YYYY":{test:e(f.MMM.test,u,f.DD.test,s,f.YYYY.test),parse:e(f.MMM.parse,u,f.DD.parse,s,f.YYYY.parse),precision:"day"},"YYYY-WW-d":{test:e(f.YYYY.test,o,f.W.test,u,f.DOW.test),parse:e(f.YYYY.parse,o,f.W.parse,u,f.DOW.parse),precision:"day"},"MM/DD/YYYY HH:MM":{test:e(f.MM.test,"([\\-\\/])",f.DD.test,"\\2",f.YYYY.test,c,f.HHMM.test),parse:e(f.MM.parse,"([\\-\\/])",f.DD.parse,"\\2",f.YYYY.parse,c,f.HHMM.parse),precision:"day-minutes"},"DD.MM.YYYY HH:MM":{test:e(f.DD.test,"([\\-\\.\\/ ?])",f.MM.test,"\\2",f.YYYY.test,c,f.HHMM.test),parse:e(f.DD.parse,"([\\-\\.\\/ ?])",f.MM.parse,"\\2",f.YYYY.parse,c,f.HHMM.parse),precision:"day-minutes"},"YYYY-MM-DD HH:MM":{test:e(f.YYYY.test,"([\\-\\.\\/ ?])",f.MM.test,"\\2",f.DD.test,c,f.HHMM.test),parse:e(f.YYYY.parse,"([\\-\\.\\/ ?])",f.MM.parse,"\\2",f.DD.parse,c,f.HHMM.parse),precision:"day-minutes"},ISO8601:{test:/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,parse:function(e){return e},precision:"day-seconds"}};return function(e){var a,i=0,o={},u=["",0];e=e||[],_.each(h,function(n,r){_.each(e,function(e){void 0===o[r]&&(o[r]=0),t(e,r)&&(o[r]+=1,o[r]>u[1]&&(u[0]=r,u[1]=o[r]))})}),a=u[0];var s={parse:function(e){function o(e){return(e=+e)<30?2e3+e:1900+e}if(_.isDate(e)||_.isUndefined(e))return e;if(!a||!_.isString(e))return i++,e;var u=function(e,t){var n=h[t];return _.isRegExp(n.parse)?e.match(n.parse):n.parse(e,t)}(e.toLowerCase(),a);if(!u)return i++,e;t(e,a)||i++;var s=(new Date).getFullYear();switch(a){case"YYYY":return new Date(u[1],0,1);case"YYYY-H":return new Date(u[1],6*(u[2]-1),1);case"H-YYYY":return new Date(u[2],6*(u[1]-1),1);case"YYYY-Q":return new Date(u[1],3*(u[2]-1),1);case"Q-YYYY":return new Date(u[2],3*(u[1]-1),1);case"YYYY-M":return new Date(u[1],u[2]-1,1);case"M-YYYY":return new Date(u[2],u[1]-1,1);case"YYYY-MMM":return new Date(+u[1],m[u[2]],1);case"MMM-YYYY":return new Date(+u[2],m[u[1]],1);case"MMM-YY":return new Date(o(+u[2]),m[u[1]],1);case"MMM":return new Date(s,m[u[1]],1);case"YYYY-WW":return n(u[1],u[2],1);case"WW-YYYY":return n(u[2],u[1],1);case"YYYY-WW-d":return n(u[1],u[2],u[3]);case"YYYY-MM-DD":return new Date(u[1],u[3]-1,u[4]);case"DD/MM/YYYY":return new Date(u[4],u[3]-1,u[1]);case"DD/MMM/YYYY":return new Date(u[4],m[u[3]],u[1]);case"DD/MMM/YY":return new Date(o(u[4]),m[u[3]],u[1]);case"MM/DD/YYYY":return new Date(u[4],u[1]-1,u[3]);case"MMM-DD-YYYY":return new Date(u[3],m[u[1]],u[2]);case"YYYY-MM-DD HH:MM":return new Date(+u[1],u[3]-1,+u[4],r(+u[5],u[8]),+u[6]||0,+u[7]||0);case"DD.MM.YYYY HH:MM":return new Date(+u[4],u[3]-1,+u[1],r(+u[5],u[8]),+u[6]||0,+u[7]||0);case"MM/DD/YYYY HH:MM":return new Date(+u[4],u[1]-1,+u[3],r(+u[5],u[8]),+u[6]||0,+u[7]||0);case"ISO8601":return new Date(u.toUpperCase());default:console.warn("unknown format",a)}return i++,e},toNum:function(e){return e.getTime()},fromNum:function(e){return new Date(e)},errors:function(){return i},name:function(){return"date"},format:function(e){return arguments.length?(a=e,s):a},precision:function(){return h[a].precision},formatter:function(e){if(!a)return _.identity;var t=Globalize.culture().calendar.patterns.M.replace("MMMM","MMM");switch(h[a].precision){case"year":return function(e){return _.isDate(e)?e.getFullYear():e};case"half":return function(e){return _.isDate(e)?e.getFullYear()+" H"+(e.getMonth()/6+1):e};case"quarter":return function(e){return _.isDate(e)?e.getFullYear()+" Q"+(e.getMonth()/3+1):e};case"month":return function(e){return _.isDate(e)?Globalize.format(e,"MMM yy"):e};case"week":return function(e){return _.isDate(e)?function(e){var t=e.getUTCDay(),n=new Date(e.valueOf());n.setDate(n.getDate()-(t+6)%7+3);var r=n.getUTCFullYear(),a=Math.floor((n.getTime()-new Date(r,0,1,-6))/864e5);return[r,1+Math.floor(a/7),t>0?t:7]}(e).slice(0,2).join(" W"):e};case"day":return function(e,t){return _.isDate(e)?Globalize.format(e,t?"D":"d"):e};case"day-minutes":return function(e){return _.isDate(e)?Globalize.format(e,t).replace(" ","&nbsp;")+" - "+Globalize.format(e,"t").replace(" ","&nbsp;"):e};case"day-seconds":return function(e){return _.isDate(e)?Globalize.format(e,"T").replace(" ","&nbsp;"):e}}},isValid:function(e){return _.isDate(s.parse(e))},ambiguousFormats:function(){var e=[];return _.each(o,function(t,n){t==u[1]&&e.push([n,n])}),e}};return s}}(),dw.datasource={},dw.datasource.delimited=function(e){return{dataset:function(){if(e.url)return $.ajax({url:e.url+(e.url.indexOf("?")>-1?"&":"?")+"v="+(new Date).getTime(),method:"GET",dataType:"text"}).then(function(t){return new DelimitedParser(e).parse(t)});if(e.csv||""===e.csv){var t=$.Deferred(),n=t.then(function(t){return new DelimitedParser(e).parse(t)});return t.resolve(e.csv),n}throw"you need to provide either an URL or CSV data."},parse:function(){return new DelimitedParser(e).parse(e.csv)}}};var DelimitedParser=function(e){e=_.extend({delimiter:"auto",quoteChar:'"',skipRows:0,emptyValue:null,transpose:!1,firstRowIsHeader:!0},e),this.__delimiterPatterns=getDelimiterPatterns(e.delimiter,e.quoteChar),this.opts=e},a,b;_.extend(DelimitedParser.prototype,{parse:function(e){var t=this,n=this.opts;t.__rawData=e,"auto"==n.delimiter&&(n.delimiter=t.guessDelimiter(e,n.skipRows),t.__delimiterPatterns=getDelimiterPatterns(n.delimiter,n.quoteChar));var r,a="|"!=n.delimiter?"|":"#";return e=a+"\n"+e.replace(/\s+$/g,"")+a,r=function(e,t,n){n=n||",";for(var r,i=[[]],o=null;o=e.exec(t);){var u=o[1];u.length&&u!=n&&i.push([]),r=o[2]?o[2].replace(new RegExp('""',"g"),'"'):o[3],i[i.length-1].push(r)}i[0][0].substr(0,1)==a&&(i[0][0]=i[0][0].substr(1));var s=i.length-1,c=i[s].length-1,l=i[s][c].length-1;return i[s][c].substr(l)==a&&(i[s][c]=i[s][c].substr(0,l)),i.slice(1)}(this.__delimiterPatterns,e,n.delimiter),n.transpose&&(r=function(e){var t=e,n=t.length?t.length:0,r=t[0]instanceof Array?t[0].length:0;if(0===r||0===n)return[];var a,i,o=[];for(a=0;a<r;a++)for(o[a]=[],i=0;i<n;i++)o[a][i]=t[i][a];return o}(r)),function(e){var t=[],r={},a=e.length,i=e[0].length,o=n.skipRows,u=[];n.firstRowIsHeader&&(u=e[o],o++);for(var s=0;s<i;s++){var c=_.isString(u[s])?u[s].replace(/^\s+|\s+$/g,""):"",l=""!==c?"":1;for(c=""!==c?c:"X.";void 0!==r[c+l];)l=""===l?1:l+1;t.push({name:c+l,data:[]}),r[c+l]=!0}return _.each(_.range(o,a),function(r){_.each(t,function(t,a){t.data.push(""!==e[r][a]?e[r][a]:n.emptyValue)})}),t=_.map(t,function(e){return dw.column(e.name,e.data)}),dw.dataset(t)}(r)},guessDelimiter:function(e){var t=0,n=-1,r=this,a=["\t",";","|",","];return _.each(a,function(a,i){var o=getDelimiterPatterns(a,r.quoteChar),u=e.match(o).length;"\t"==a&&(u*=1.15),u>t&&(t=u,n=i)}),a[n]}}),dw.datasource.json=function(e){return{dataset:function(){if(e.url);else if(e.csv||e.json){var t=$.Deferred(),n=t.then(function(e){return JSON.parse(e)});return t.resolve(e.csv||e.json),n}throw"you need to provide either an URL or CSV data."},parse:function(){return JSON.parse(e.csv||e.json)}}},dw.utils={minMax:function(e){var t=[Number.MAX_VALUE,-Number.MAX_VALUE];return _.each(e,function(e){t[0]=Math.min(t[0],e.range()[0]),t[1]=Math.max(t[1],e.range()[1])}),t},dateFormat:function(e){function t(e){return function(t){var n=Globalize.format(t,e);return"htt"!=e?n:n.toLowerCase()}}var n=!0,r=!1,a=function(e){return{date:"de"==e?"dd.":"dd",hour:"en"!=e?"H:00":"htt",minute:"de"==e?"H:mm":"h:mm",mm:"de"==e?"d.M.":"MM/dd",mmm:"de"==e?"d.MMM":"MMM dd",mmmm:"de"==e?"d. MMMM":"MMMM dd"}}(Globalize.culture().language);return function(e){return function(t){n=!r||t.getMonth()!=r.getMonth(),r=t;for(var a=e.length-1,i=e[a];!i[1](t);)i=e[--a];return i[0](t)}}([[t("yyyy"),function(){return!0}],[t("MMM"),function(e){return 0!==e.getMonth()}],[t(a.date),function(e){return 1!=e.getDate()}],[t(e<7?a.mm:a.mmm),function(e){return 1!=e.getDate()&&n}],[t(a.hour),function(e){return e.getHours()}],[t(a.minute),function(e){return e.getMinutes()}],[t(":ss"),function(e){return e.getSeconds()}],[t(".fff"),function(e){return e.getMilliseconds()}]])},longDateFormat:function(e){return function(t){if("date"!=e.type())return t;switch(e.type(!0).precision()){case"year":return t.getFullYear();case"quarter":return t.getFullYear()+" Q"+(t.getMonth()/3+1);case"month":return Globalize.format(t,"MMM yy");case"day":return Globalize.format(t,"MMM d");case"minute":return Globalize.format(t,"t");case"second":return Globalize.format(t,"T")}}},columnNameColumn:function(e){var t=_.map(e,function(e){return e.title()});return dw.column("",t)},name:function(e){return _.isFunction(e.name)?e.name():_.isString(e.name)?e.name:e},getNonChartHeight:function(){var e=0;$.support.leadingWhitespace||(e+=15),$("body > *").each(function(t,n){function r(e){return i.split(" ").indexOf(e)>-1}var a=n.tagName.toLowerCase(),i=$(n).attr("class")||"";"script"==a||"style"==a||"chart"==n.id||$(n).attr("aria-hidden")||r("tooltip")||r("vg-tooltip")||r("hidden")||r("qtip")||r("container")||r("noscript")||r("hidden")||r("filter-ui")||r("dw-chart-body")||(e+=Number($(n).outerHeight(!0)))});var t=["padding-top","padding-bottom","margin-top","margin-bottom","border-top-width","border-bottom-width"];return["body","body #chart"].forEach(function(n){t.forEach(function(t){e+=Number(function(e,t){return getComputedStyle($(e).get(0))[t].replace("px","")}(n,t))})}),e},getMaxChartHeight:function(){return $(window).height()-8-dw.utils.getNonChartHeight()},purifyHtml:function(e,t){function n(e,t){if(null===e)return null;if((e=String(e)).indexOf("<")<0||e.indexOf(">")<0)return e;if(e=r(e,t),"undefined"==typeof document)return e;var n=document.createElement("div");n.innerHTML=e;for(var a=n.querySelectorAll("*"),i=0;i<a.length;i++)for(var o=0;o<a[i].attributes.length;o++){var u=a[i].attributes[o];u.specified&&"on"==u.name.substr(0,2)&&a[i].removeAttribute(u.name)}return n.innerHTML}function r(e,t){t=(((void 0!==t?t||"":o)+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");for(var n=e,r=e;;)if(r=(n=r).replace(i,"").replace(a,function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""}),n===r)return r}var a=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,i=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,o="<a><b><br><br/><i><strong><sup><sub><strike><u><em><tt>";return dw.utils.purifyHtml=n,n(e,t)},significantDimension:function(e){function t(e){return dw.utils.round(e,i)}var n,r,a=[],i=0,o=_.uniq(e),u=o.length,s=Math.floor(.8*u);if(o.length<3)return Math.round(o.reduce(function(e,t){if(!t)return e;var n=Math.log(Math.abs(t))/Math.LN10;return n<8&&n>-3?e+Math.min(3,dw.utils.tailLength(o[0])):e+(n>0?-1*(n-1):-1*n)},0)/o.length);_.uniq(_.map(o,t)).length>s?(n=function(){return _.uniq(a).length==u},r=-1):(n=function(){return _.uniq(a).length<=s},r=1);var c=100;do{a=_.map(o,t),i+=r}while(n()&&c-- >0);return c<10&&console.warn("maximum iteration reached",e,a,i),r<0?i+=2:i--,i},tailLength:function(e){return String(e-Math.floor(e)).replace(/00000*[0-9]+$/,"").replace(/99999*[0-9]+$/,"").length-2},round:function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},smartRound:function(e,t){var n=dw.utils.significantDimension(e);return n+=t||0,_.map(e,function(e){return dw.utils.round(e,n)})},nearest:function(e,t){var n,r=Number.MAX_VALUE;return _.each(e,function(e){var a=Math.abs(e-t);a<r&&(r=a,n=e)}),n},metricSuffix:function(e){switch(e.substr(0,2).toLowerCase()){case"de":return{3:" Tsd.",6:" Mio.",9:" Mrd.",12:" Bio."};case"fr":return{3:" mil",6:" Mio",9:" Mrd"};case"es":return{3:" Mil",6:" millón"};default:return{3:"k",6:"M",9:" bil"}}},magnitudeRange:function(e){var t=Math.round(Math.log(e[0])/Math.LN10);return Math.round(Math.log(e[1])/Math.LN10)-t},logTicks:function(e,t){var n=Math.round(Math.log(e)/Math.LN10),r=Math.round(Math.log(t)/Math.LN10);return _.map(_.range(n,r),function(e){return Math.pow(10,e)})},clone:function(e){try{return JSON.parse(JSON.stringify(e))}catch(e){}return e},equalish:function(e,t){return e-t<1e-6}},dw.utils.filter=function(e,t,n,r){function a(t){_.each(i,function(n){_.isFunction(n)&&n(e.val(t),t)})}var i=[];return n=n||"auto",r=r||_.identity,"auto"==n&&("date"==e.type()?n="timescale":"text"==e.type()&&(n=e.length<6?"buttons":"select")),{ui:function n(r){var i;return"auto"==r&&(r="date"==e.type()?"timescale":e.length<6?"buttons":"select"),e.length<2?function(){return!1}:("select"==r&&(i=function(t){var n=$("<select />");return e.each(function(t,r){var a=e.raw()[r];a&&n.append('<option value="'+r+'">'+(_.isString(a)?$.trim(a):a)+"</option>")}),n.change(function(e){a(n.val())}),n.addClass("filter-ui filter-select"),n}),"buttons"==r&&(i=function(r){var i=$("<div />");i.addClass("filter-ui filter-links"),e.each(function(n,r){var a=e.raw()[r];if(a){var o=$('<a href="#'+r+'"'+(r==t?' class="active" ':"")+">"+(_.isString(a)?$.trim(a):a)+"</a>").data("row",r);i.append(o)}}),$("a",i).click(function(e){var t=$(e.target);e.preventDefault(),t.hasClass("active")||($("a",i).removeClass("active"),t.addClass("active"),a(t.data("row")))}),i.appendTo("body");var o=$("a:first",i).offset().top+$("a:first",i).height();return $("a:last",i).offset().top+$("a:last",i).height()-o>1?(i.remove(),n("select")(r)):i}),"timescale"==r&&(i=function(t){function n(t,n){return t*(1-(e.val(-1).getTime()-n.getTime())/864e5/daysDelta)}var r=Math.min(t.__w-35);timesel=$("<div></div>").css({position:"relative",height:45,"margin-left":3}).addClass("filter-ui"),daysDelta=Math.round((e.val(-1).getTime()-e.val(0).getTime())/864e5);for(var i=0,o=0;o<e.length;o++){var u=$('<div class="point"></div>');u.data("row",o),u.css("left",n(r,e.val(o))+"px"),timesel.append(u);var s=$('<div class="point-label">'+e.raw()[o]+"</div>");s.css("left",n(r,e.val(o))+"px"),timesel.append(s),0==o&&u.addClass("active");var c=n(r,e.val(o));c>i&&(i=c)}var l=i;return timesel.append('<div class="line"></div>'),$(".line",timesel).width(l),$(".point",timesel).click(function(e){var t=$(e.target);e.preventDefault(),t.hasClass("active")||($(".point",timesel).removeClass("active"),t.addClass("active"),a(t.data("row")))}),timesel}),i)}(n),change:function(e){i.push(e)}}},dw.chart=function(attributes){function reorderColumns(e){var t=chart.get("metadata.data.column-order",[]);return t.length&&t.length==e.numColumns()&&e.columnOrder(t),e}function applyChanges(e){var t=chart.get("metadata.data.changes",[]),n=chart.get("metadata.data.transpose",!1);_.each(t,function(t){var r="row",a="column";n&&(r="column",a="row"),e.hasColumn(t[a])&&(0===t[r]?e.column(t[a]).title(t.value):e.column(t[a]).raw(t[r]-1,t.value))});var r=chart.get("metadata.data.column-format",{});return _.each(r,function(t,n){t.type&&e.hasColumn(n)&&"auto"!=t.type&&e.column(n).type(t.type),t["input-format"]&&e.hasColumn(n)&&e.column(n).type(!0).format(t["input-format"])}),e}function addComputedColumns(dataset){function add_computed_column(formula,name){var datefmt=function(e){return e.getFullYear()+"-"+left_pad(1+e.getMonth(),2,0)+"-"+left_pad(1+e.getDate(),2,0)},values=data.map(function(row,row_i){var context=[];return context.push("var __row = "+row_i+";"),_.each(row,function(e,t){columnNameToVar[t]&&(context.push("var "+columnNameToVar[t]+" = "+JSON.stringify(e)+";"),"number"==dataset.column(t).type()&&(context.push("var "+columnNameToVar[t]+"__sum = "+col_aggregates[t].sum+";"),context.push("var "+columnNameToVar[t]+"__min = "+col_aggregates[t].min+";"),context.push("var "+columnNameToVar[t]+"__max = "+col_aggregates[t].max+";"),context.push("var "+columnNameToVar[t]+"__mean = "+col_aggregates[t].mean+";"),context.push("var "+columnNameToVar[t]+"__median = "+col_aggregates[t].median+";")))}),context.push("var max = Math.max, min = Math.min;"),function(){try{return eval(this.context.join("\n")+"\n"+formula)}catch(e){return console.warn(e),"n/a"}}.call({context:context})}).map(function(e){return _.isBoolean(e)?e?"yes":"no":_.isDate(e)?datefmt(e):_.isNumber(e)?""+e:String(e)}),v_col=dw.column(name,values);v_col.isComputed=!0,dataset.add(v_col)}function column_name_to_var(e){return e.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w\-]+/g,"").replace(/-/g,"_").replace(/\_\_+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(/^(\d)/,"_$1").replace(/^(abstract|arguments|await|boolean|break|byte|case|catch|char|class|const|continue|debugger|default|delete|do|double|else|enum|eval|export|extends|false|final|finally|float|for|function|goto|if|implements|import|in|instanceof|int|interface|let|long|native|new|null|package|private|protected|public|return|short|static|super|switch|synchronized|this|throw|throws|transient|true|try|typeof|var|void|volatile|while|window|with|yield)$/,"$1_")}function d3_min(e){var t,n,r=-1,a=e.length;if(1===arguments.length){for(;++r<a;)if(null!=(n=e[r])&&n>=n){t=n;break}for(;++r<a;)null!=(n=e[r])&&t>n&&(t=n)}return t}function d3_max(e){var t,n,r=-1,a=e.length;if(1===arguments.length){for(;++r<a;)if(null!=(n=e[r])&&n>=n){t=n;break}for(;++r<a;)null!=(n=e[r])&&n>t&&(t=n)}return t}function d3_sum(e){var t,n=0,r=e.length,a=-1;if(1===arguments.length)for(;++a<r;)d3_numeric(t=+e[a])&&(n+=t);return n}function d3_mean(e){for(var t,n=0,r=e.length,a=-1,i=r;++a<r;)d3_numeric(t=d3_number(e[a]))?n+=t:--i;if(i)return n/i}function d3_median(e){var t,n=[],r=e.length,a=-1;if(1===arguments.length)for(;++a<r;)d3_numeric(t=d3_number(e[a]))&&n.push(t);if(n.length)return d3_quantile(n.sort(d3_ascending),.5)}function d3_quantile(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),a=+e[r-1],i=n-r;return i?a+i*(e[r]-a):a}function d3_number(e){return null===e?NaN:+e}function d3_numeric(e){return!isNaN(e)}function d3_ascending(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function left_pad(e,t,n){for(e=String(e);e.length<t;)e=String(n)+e;return e}var v_columns=chart.get("metadata.describe.computed-columns",{}),data=dataset.list(),columnNameToVar={},col_aggregates={};return dataset.eachColumn(function(e){e.isComputed||(columnNameToVar[e.name()]=column_name_to_var(e.name()),"number"==e.type()&&(col_aggregates[e.name()]={min:d3_min(e.values()),max:d3_max(e.values()),sum:d3_sum(e.values()),mean:d3_mean(e.values()),median:d3_median(e.values())}))}),_.each(v_columns,add_computed_column),dataset}function is_equal(e,t){return JSON.stringify(e)==JSON.stringify(t)}var dataset,theme,visualization,metric_prefix,change_callbacks=$.Callbacks(),dataset_change_callbacks=$.Callbacks(),locale,_ds,chart={get:function(e,t){var n=e.split("."),r=attributes;return _.some(n,function(e){return!(!_.isUndefined(r)&&!_.isNull(r)&&(r=r[e],1))}),_.isUndefined(r)||_.isNull(r)?t:r},set:function(e,t){var n=e.split("."),r=n.pop(),a=attributes;return _.each(n,function(e){(_.isUndefined(a[e])||_.isNull(a[e]))&&(a[e]={}),a=a[e]}),is_equal(a[r],t)||(a[r]=t,change_callbacks.fire(chart,e,t)),this},load:function(e,t){var n={firstRowIsHeader:chart.get("metadata.data.horizontal-header",!0),transpose:chart.get("metadata.data.transpose",!1)};return!e&&""!==e||t?n.url=t||"data.csv":n.csv=e,(chart.get("metadata.data.json")?dw.datasource.json(n):dw.datasource.delimited(n)).dataset().pipe(function(e){return chart.dataset(e),dataset_change_callbacks.fire(chart,e),e})},dataset:function(e){return arguments.length?(!0!==e&&(_ds=e),dataset=chart.get("metadata.data.json")?_ds:reorderColumns(applyChanges(addComputedColumns(_ds))),!0===e?dataset:chart):dataset},theme:function(e){return arguments.length?(theme=e,chart):theme||{}},vis:function(e){return arguments.length?((visualization=e).chart(chart),chart):visualization},hasHighlight:function(){var e=chart.get("metadata.visualize.highlighted-series");return _.isArray(e)&&e.length>0},isHighlighted:function(e){if(void 0===_.isUndefined(e))return!1;var t=this.get("metadata.visualize.highlighted-series"),n=dw.utils.name(e);return!_.isArray(t)||0===t.length||_.indexOf(t,n)>=0},locale:function(e,t){return arguments.length?(locale=e.replace("_","-"),window.Globalize&&(Globalize.cultures.hasOwnProperty(locale)?(Globalize.culture(locale),"function"==typeof t&&t()):$.getScript("/static/vendor/globalize/cultures/globalize.culture."+locale+".js",function(){chart.locale(locale),"function"==typeof t&&t()})),chart):locale},metricPrefix:function(e){return arguments.length?(metric_prefix=e,chart):metric_prefix},formatValue:function(e,t,n){var r=chart.get("metadata.describe.number-format"),a=Number(chart.get("metadata.describe.number-divisor")),i=chart.get("metadata.describe.number-append","").replace(" ","&nbsp;"),o=chart.get("metadata.describe.number-prepend","").replace(" ","&nbsp;");return 0!==a&&(e=Number(e)/Math.pow(10,a)),"-"!=r?((n||e==Math.round(e))&&(r=r.substr(0,1)+"0"),e=Globalize.format(e,r)):0!==a&&(e=e.toFixed(1)),t?o+e+i:e},render:function(e){if(!visualization||!theme||!dataset)throw"cannot render the chart!";visualization.chart(chart),visualization.__init();var t=$(e);t.parent().addClass("vis-"+visualization.id).addClass("theme-"+theme.id),visualization.render(t)},attributes:function(e){return arguments.length?(attributes=e,chart):attributes},onChange:change_callbacks.add,onDatasetChange:dataset_change_callbacks.add,columnFormatter:function(e){var t=chart.get("metadata.data.column-format",{});if(t=t[e.name()]||{type:"auto","number-format":"auto"},"number"==e.type()&&("auto"==t||void 0===t["number-format"]||"auto"==t["number-format"])){var n=e.values(),r=dw.utils.significantDimension(n);t["number-divisor"]=0,t["number-format"]="n"+Math.max(0,r)}return e.type(!0).formatter(t)},dataCellChanged:function(e,t){var n=chart.get("metadata.data.changes",[]),r=chart.get("metadata.data.transpose",!1),a=!1;return _.each(n,function(n){var i="row",o="column";r&&(i="column",o="row"),e==n[o]&&n[i]==t&&(a=!0)}),a}};return chart},dw.visualization=(a={},b=function(e){if(!a[e]){console.warn("unknown visualization type: "+e);var t=_.keys(a);return t.length>0&&console.warn("try one of these instead: "+t.join(", ")),!1}return new a[e]},b.register=function(e){var t=3===arguments.length?a[arguments[1]].prototype:dw.visualization.base,n=arguments[arguments.length-1],r=a[e]=function(){};_.extend(r.prototype,t,{id:e},n)},b.has=function(e){return void 0!==a[e]},b),dw.visualization.base=function(){}.prototype,_.extend(dw.visualization.base,{__init:function(){return this.__renderedDfd=$.Deferred(),this.__rendered=!1,this.__colors={},this.__callbacks={},window.parent&&window.parent.postMessage&&window.parent.postMessage("datawrapper:vis:init","*"),this},render:function(e){$(e).html("implement me!")},theme:function(e){if(!arguments.length)return this.__theme;this.__theme=e;var t=["horizontalGrid","verticalGrid","yAxis","xAxis"];return _.each(t,function(t){if(e.hasOwnProperty(t))for(var n in e[t]){var r=n.replace(/([A-Z])/g,"-$1").toLowerCase();e[t].hasOwnProperty(r)||(e[t][r]=e[t][n])}}),this},size:function(e,t){var n=this;return arguments.length?(n.__w=e,n.__h=t,n):[n.__w,n.__h]},get:function(e,t){return this.chart().get("metadata.visualize"+(e?"."+e:""),t)},notify:function(e){if(dw.backend&&_.isFunction(dw.backend.notify))return dw.backend.notify(e);window.parent&&window.parent.postMessage?window.parent.postMessage("notify:"+e,"*"):window.console&&console.log(e)},signature:function(){},translate:function(e){return this.meta.locale[e]||e},checkBrowserCompatibility:function(){return!0},chart:function(e){var t=this;if(!arguments.length)return t.__chart;t.dataset=e.dataset(),t.theme(e.theme()),t.__chart=e;var n=e.get("metadata.data.column-format",{}),r={};return _.each(n,function(e,t){r[t]=!!e.ignore}),t.dataset.filterColumns&&t.dataset.filterColumns(r),t},axes:function(e,t){var n=this;if(!t&&n.__axisCache)return n.__axisCache[e?"axesAsColumns":"axes"];var r,a=n.dataset,i={},o={},u={},s=[];r=n.chart().get("metadata.axes",{}),_.each(n.meta.axes,function(e,t){if(r[t]){var n=r[t];(function(e){_.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++)if(!a.hasColumn(e[t]))return!1;return!0})(n)&&(o[t]=n,_.isArray(n)||(n=[n]),_.each(n,function(e){i[e]=!0}))}});var c=[];_.each(n.meta.axes,function(e,t){function r(t){return!i[t.name()]&&_.indexOf(e.accepts,t.type())>=0}function u(){var n=dw.backend?dw.backend.messages.insufficientData:"The visualization needs at least one column of the type %type to populate axis %key";s.push(n.replace("%type",e.accepts).replace("%key",t))}if(c.push(t),!o[t])if(e.optional)o[t]=!1;else if(e.multiple){var l=function(e){var t=0;return _.each(n.meta.axes,function(n,r){if(!(c.indexOf(r)>-1)&&function(e,t){if(void 0===e&&void 0!==t)return!1;if(void 0===t&&void 0!==e)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(-1===t.indexOf(e[n]))return!1;return!0}(n.accepts,e)&&"string"!=typeof t&&!n.optional)return n.multiple?void(t="multiple"):void(t+=1)}),t}(e.accepts),f=function(e,t){var n=0;return e.eachColumn(function(e,t){r(e)&&n++}),n}(a);o[t]=[],a.eachColumn(function(e){"multiple"===l&&o[t].length||f<=l||r(e)&&(i[e.name()]=!0,o[t].push(e.name()),f--)}),o[t].length||u()}else{var d,m=_.filter(a.columns(),r);if(e.preferred){var h=new RegExp(e.preferred,"i");d=_.find(m,function(e){return h.test(e.name())||e.title()!==e.name()&&h.test(e.title())})}if(d||(d=m[0]),d)i[d.name()]=!0,o[t]=d.name();else if(_.indexOf(e.accepts,"text")>=0){var p=dw.column(t,_.map(_.range(a.numRows()),function(e){return(e>25?String.fromCharCode(64+e/26):"")+String.fromCharCode(65+e%26)}),"text");a.add(p),n.chart().dataset(a),i[p.name()]=!0,o[t]=p.name()}else u()}});var l=0;for(var f in i)i[f]&&l++;return l<a.numColumns()&&s.push("Your dataset contains more columns than the chosen chart type can display. You can switch the column to show in the <b>Refine</b> tab, or choose a different chart type."),s.length&&n.notify(s.join("<br />")),_.each(o,function(e,t){_.isArray(e)?(u[t]=[],_.each(e,function(e,r){u[t][r]=!1!==e?n.dataset.column(e):null})):u[t]=!1!==e?n.dataset.column(e):null}),n.__axisCache={axes:o,axesAsColumns:u},n.axes(e)},keys:function(){var e=this,t=e.axes();if(t.labels){var n=e.dataset.column(t.labels),r=e.chart().columnFormatter(n),a=[];return n.each(function(e){a.push(String(r(e)))}),a}return[]},keyLabel:function(e){return e},reset:function(){this.clear(),$("#chart").html("").off("click").off("mousemove").off("mouseenter").off("mouseover"),$(".chart .filter-ui").remove(),$(".chart .legend").remove()},clear:function(){},renderingComplete:function(){window.parent&&window.parent.postMessage&&setTimeout(function(){window.parent.postMessage("datawrapper:vis:rendered","*")},200),this.__renderedDfd.resolve(),this.__rendered=!0},rendered:function(){return this.__renderedDfd.promise()},supportsSmartRendering:function(){return!1},_svgCanvas:function(){return!1},colorMap:function(){var e=this;return function(t){return e.__colors[t]=1,window.__dw&&window.__dwColorMap?window.__dwColorMap(t):t}},colorsUsed:function(){return Object.keys(this.__colors)},on:function(e,t){this.__callbacks[e]||(this.__callbacks[e]=[]),this.__callbacks[e].push(t)},fire:function(e,t){this.__callbacks[e]&&this.__callbacks[e].forEach(function(e){"function"==typeof e&&e(t)})}}),dw.theme=function(){function e(){var n,r,a,i,o,u=arguments[0]||{},s=1,c=arguments.length;for("object"==typeof u||_.isFunction(u)||(u={});s<c;s++)if(null!=(n=arguments[s]))for(r in n)a=u[r],u!==(i=n[r])&&(i&&t(i)?(o=a&&t(a)?a:{},u[r]=e(o,i)):void 0!==i&&(u[r]=i));return u}function t(e){return _.isObject(e)&&!_.isArray(e)&&!_.isFunction(e)}var n={},r=function(e){return n[e]};return r.register=function(t){var r=3==arguments.length?n[arguments[1]]:dw.theme.base,a=arguments[arguments.length-1];n[t]=e({},r,{id:t},a)},r}(),dw.theme.base={colors:{palette:["#6E7DA1","#64A4C4","#53CCDD","#4EF4E8"],secondary:[],positive:"#85B4D4",negative:"#E31A1C",background:"#ffffff",text:"#333333",gradients:[["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],["#fefaca","#008b15"],["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],["#8c510a","#d8b365","#f6e8c3","#f5f7ea","#c7eae5","#5ab4ac","#01665e"],["#c51b7d","#e9a3c9","#fde0ef","#faf6ea","#e6f5d0","#a1d76a","#4d9221"],["#b2182b","#ef8a62","#fddbc7","#f8f6e9","#d1e5f0","#67a9cf","#2166ac"]],categories:[["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"],["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]]},annotation:{background:"#000",opacity:.08},padding:{left:0,right:20,bottom:30,top:10},lineChart:{strokeWidth:3,maxLabelWidth:80,fillOpacity:.2,xLabelOffset:20},columnChart:{cutGridLines:!1,barAttrs:{"stroke-width":1},darkenStroke:18},barChart:{barAttrs:{"stroke-width":1}},xAxis:{stroke:"#333"},yAxis:{strokeWidth:1},horizontalGrid:{stroke:"#d9d9d9"},verticalGrid:!1,frame:!1,frameStrokeOnTop:!1,yTicks:!1,hover:!0,tooltip:!0,hpadding:0,vpadding:10,minWidth:100,locale:"de_DE",duration:1e3,easing:"expoInOut"}}).call(this);